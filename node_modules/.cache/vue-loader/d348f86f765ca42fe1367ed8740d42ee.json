{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/form/dap-ui-basic-form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/form/dap-ui-basic-form.vue","mtime":1583521725179},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHZhbGlkYXRpb25NaXhpbiB9IGZyb20gJ3Z1ZWxpZGF0ZScKaW1wb3J0IHsgcmVxdWlyZWQsIGVtYWlsIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwppbXBvcnQgcGhvbmUgZnJvbSAnLi4vLi4vLi4vdmFsaWRhdGVzL3Bob25lLnZhbGlkYXRlLmpzJwppbXBvcnQgdGFibGUgZnJvbSAnLi4vLi4vLi4vdmFsaWRhdGVzL3RhYmxlLnZhbGlkYXRlLmpzJzsKaW1wb3J0IFZhbGlkYXRlVXRpbCBmcm9tICcuLi8uLi8uLi91dGlscy92YWxpZGF0ZS51dGlsLmpzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEYXBVaUJhc2ljRm9ybSIsCiAgbW9kZWw6IHsKICAgIHByb3A6ICdmb3JtRGF0YScsCiAgICBldmVudDogJ2NoYW5nZScKICB9LAogIG1peGluczogW3ZhbGlkYXRpb25NaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50Rm9ybURhdGE6IHt9LAogICAgICBjaGlsZHJlblZhbGlkYXRlOiB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZpc2lhYmxlRm9ybUNvbmZpZzogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm1Db25maWcuZmlsdGVyKGl0ZW1Db25maWcgPT4gewogICAgICAgIHJldHVybiBpdGVtQ29uZmlnICYmIGl0ZW1Db25maWcudmlzaWFibGU7CiAgICAgIH0pCiAgICB9CiAgfSwKICAvLyDmt7vliqDpqozor4HlmagKICB2YWxpZGF0aW9ucygpIHsKICAgIGNvbnN0IGN1cnJlbnRGb3JtRGF0YSA9IHt9OwogICAgZm9yIChsZXQgaXRlbUNvbmZpZyBvZiB0aGlzLmZvcm1Db25maWcpIHsKICAgICAgaWYgKGl0ZW1Db25maWcucmVxdWlyZWQpIHsKICAgICAgICBjdXJyZW50Rm9ybURhdGFbaXRlbUNvbmZpZy5kYXRhQ29kZV0gPSB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRGb3JtRGF0YVtpdGVtQ29uZmlnLmRhdGFDb2RlXSA9IHt9CiAgICAgIH0KCiAgICAgIGlmIChpdGVtQ29uZmlnLmNvbXBvbmVudE5hbWUgPT09ICJkYXAtdWktaW5wdXQtZW1haWwiKSB7CiAgICAgICAgY3VycmVudEZvcm1EYXRhW2l0ZW1Db25maWcuZGF0YUNvZGVdWydlbWFpbCddID0gZW1haWw7CiAgICAgIH0gZWxzZSBpZiAoaXRlbUNvbmZpZy5jb21wb25lbnROYW1lID09PSAiZGFwLXVpLWlucHV0LXRlbCIpIHsKICAgICAgICBjdXJyZW50Rm9ybURhdGFbaXRlbUNvbmZpZy5kYXRhQ29kZV1bJ3Bob25lJ10gPSBwaG9uZQogICAgICB9IGVsc2UgaWYgKGl0ZW1Db25maWcuY29tcG9uZW50TmFtZSA9PT0gImRhcC11aS10YWJsZS1leHRlbmQiKSB7CiAgICAgICAgY3VycmVudEZvcm1EYXRhW2l0ZW1Db25maWcuZGF0YUNvZGVdWydyZXF1aXJlZCddID0gdGFibGUucmVxdWlyZWQoaXRlbUNvbmZpZyk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRGb3JtRGF0YTogY3VycmVudEZvcm1EYXRhCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAgIGZvcm1WYWx1ZVRyYW5zQ2hhbmdlKHRyYW5zRGF0YUNvZGUsIHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY3VycmVudEZvcm1EYXRhLCB0cmFuc0RhdGFDb2RlLCB2YWx1ZSk7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5jdXJyZW50Rm9ybURhdGEpOwogICAgICB9LAogICAgICBmb3JtVmFsdWVDaGFuZ2UoZGF0YUNvZGUsIHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuY3VycmVudEZvcm1EYXRhLCBkYXRhQ29kZSwgdmFsdWUpOwogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuY3VycmVudEZvcm1EYXRhKTsKICAgICAgICB0aGlzLiR2LmN1cnJlbnRGb3JtRGF0YVtkYXRhQ29kZV0uJHRvdWNoKCk7CiAgICAgIH0sCiAgICAgIHZhbGlkYXRlQ2hhbmdlKHV1aWQsIHZhbHVlKSB7CiAgICAgICAgdGhpcy5jaGlsZHJlblZhbGlkYXRlW3V1aWRdID0gdmFsdWU7CiAgICAgIH0sCiAgICAgIGdldFZhbGlkYXRlRXJyb3IoKSB7CiAgICAgICAgbGV0IHZhbGlkYXRlQXJyYXkgPSBbXTsKICAgICAgICB2YWxpZGF0ZUFycmF5LnB1c2godGhpcy4kdik7CiAgICAgICAgdmFsaWRhdGVBcnJheSA9IFsKICAgICAgICAgIC4uLnZhbGlkYXRlQXJyYXksCiAgICAgICAgICAuLi5PYmplY3QudmFsdWVzKHRoaXMuY2hpbGRyZW5WYWxpZGF0ZSkKICAgICAgICBdOwogICAgICAgIHJldHVybiBWYWxpZGF0ZVV0aWwubWVyZ2VWYWxpZGF0ZSh2YWxpZGF0ZUFycmF5KTsKICAgICAgfSwKICAgICAgdmFsaWRhdGVUb3VjaCgpIHsKICAgICAgICB0aGlzLiR2LiR0b3VjaCgpOwogICAgICAgIHRoaXMuZm9ybUNvbmZpZy5mb3JFYWNoKGl0ZW1Db25maWcgPT4gewogICAgICAgICAgaWYgKHRoaXMuJGJhc2VGb3JtUmVnaXN0ZXIuZ2V0Q29tcG9uZW50VHlwZShpdGVtQ29uZmlnLmNvbXBvbmVudE5hbWUpID09PSAnRk9STV9MQVlPVVQnKSB7CiAgICAgICAgICAgIGlmICggdGhpcy4kcmVmc1tpdGVtQ29uZmlnLnV1aWRdICYmICB0aGlzLiRyZWZzW2l0ZW1Db25maWcudXVpZF1bMF0pIHsKICAgICAgICAgICAgICB0aGlzLiRyZWZzW2l0ZW1Db25maWcudXVpZF1bMF0udmFsaWRhdGVUb3VjaCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgcmVzZXRGb3JtKCkgewogICAgICAgIHRoaXMuJHYuJHJlc2V0KCk7CiAgICAgICAgdGhpcy5mb3JtQ29uZmlnLmZvckVhY2goaXRlbUNvbmZpZyA9PiB7CiAgICAgICAgICBpZiAodGhpcy4kYmFzZUZvcm1SZWdpc3Rlci5nZXRDb21wb25lbnRUeXBlKGl0ZW1Db25maWcuY29tcG9uZW50TmFtZSkgPT09ICdGT1JNX0xBWU9VVCcpIHsKICAgICAgICAgICAgaWYgKCB0aGlzLiRyZWZzW2l0ZW1Db25maWcudXVpZF0gJiYgIHRoaXMuJHJlZnNbaXRlbUNvbmZpZy51dWlkXVswXSkgewogICAgICAgICAgICAgIHRoaXMuJHJlZnNbaXRlbUNvbmZpZy51dWlkXVswXS5yZXNldEZvcm0oKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLy8gdGhpcy5jdXJyZW50Rm9ybURhdGEgPSB0aGlzLmZvcm1EYXRhOwogICAgICB9LAogICAgICAvKioKICAgICAgICog6KGo5Y2V5LqL5Lu26Ieq5Yqo6Kem5Y+RCiAgICAgICAqLwogICAgICBmb3JtRXZlbnRFbWl0KCRldmVudCkgewogICAgICAgIC8vIOihqOWNleS6i+S7tuWPkemAgQogICAgICAgIHRoaXMuJGJhc2VGb3JtUmVnaXN0ZXIuZXhjdXRlQWRhcHRlckV2ZW50KCRldmVudC5jb21wb25lbnROYW1lLCAkZXZlbnQsIHRoaXMuZm9ybUNvbmZpZywgdGhpcy5nbG9iYWxGb3JtSW5mbywgdGhpcy5mb3JtRGF0YSkKICAgICAgICB0aGlzLiRlbWl0KCdmb3JtRXZlbnRFbWl0JywgJGV2ZW50KTsKICAgICAgfSwKICAgICAgLyoqCiAgICAgICAqIEBhdXRob3IgbGl6aGloYW5nCiAgICAgICAqIEBwYXJhbSBpdGVtQ29uZmlnIOihqOWNlemFjee9rgogICAgICAgKiBAZGVzY3JpcHRpb24g5qCh6aqM5o+Q56S65paH5a2XCiAgICAgICAqIEBkYXRlIDIwMjAtMi0yNwogICAgICAgKi8KICAgICAgdmFsaWRhdGlvblRleHQoaXRlbUNvbmZpZykgewogICAgICAgIGlmICh0aGlzLiR2LmN1cnJlbnRGb3JtRGF0YVtpdGVtQ29uZmlnLmRhdGFDb2RlXS4kZGlydHkgJiYgdGhpcy4kdi5jdXJyZW50Rm9ybURhdGFbaXRlbUNvbmZpZy5kYXRhQ29kZV0uJGVycm9yKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiR2LmN1cnJlbnRGb3JtRGF0YVtpdGVtQ29uZmlnLmRhdGFDb2RlXSk7CiAgICAgICAgICBpZiAoIXRoaXMuJHYuY3VycmVudEZvcm1EYXRhW2l0ZW1Db25maWcuZGF0YUNvZGVdLnJlcXVpcmVkKSB7CiAgICAgICAgICAgIC8vIOWmguaenOaYr+W/heWhq+agoemqjO+8jOWImeaYvuekuiB4eHjkuLrlv4XloasKICAgICAgICAgICAgcmV0dXJuIGl0ZW1Db25maWcubGFiZWwgKyAgJ+S4uuW/heWhqyc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDlpoLmnpzmmK/lhbbku5bmoKHpqozvvIjlpoLpgq7nrrHmoKHpqozvvInvvIzliJnmmL7npLogeHh45qC85byP5LiN5q2j56GuCiAgICAgICAgICAgIHJldHVybiBpdGVtQ29uZmlnLmxhYmVsICsgICfmoLzlvI/kuI3mraPnoa4nOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLyoqCiAgICAgICAqIEBhdXRob3IgbGl6aGloYW5nCiAgICAgICAqIEBkZXNjcmlwdGlvbiDnu4Tku7bmmK/lkKZkaXNhYmxl44CCZGlzYWJsZWTlsZ7mgKfkvJjlhYjnuqfpq5jjgIIKICAgICAgICogQGRhdGUgMjAyMC0zLTMKICAgICAgICovCiAgICAgIGlzRGlzYWJsZWQoaXRlbUNvbmZpZykgewogICAgICAgIGlmIChpdGVtQ29uZmlnLmRpc2FibGVkKSB7CiAgICAgICAgICAvLyDlpoLmnpzlj6ror7sg6L+U5ZuedHJ1ZQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChpdGVtQ29uZmlnLmVkaXRPbk5ldyAmJiB0aGlzLmdsb2JhbEZvcm1JbmZvLmRvY3VtZW50SWQpIHsKICAgICAgICAgIC8vIOWmguaenOaWsOW7uuWPr+e8lui+ke+8jOW9k+WJjeaYr+e8lui+keaXtu+8jOi/lOWbnnR1cmUKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgfSwKICB3YXRjaDogewogICAgZm9ybURhdGE6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24obmV3VmFsLG9sZFZhbCkgewogICAgICAgIGlmICh0aGlzLmN1cnJlbnRGb3JtRGF0YSAhPT0gbmV3VmFsICYmIG5ld1ZhbCkgewogICAgICAgICAgdGhpcy5jdXJyZW50Rm9ybURhdGEgPSBuZXdWYWwgOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIGZvcm1EYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDoge30KICAgIH0sCiAgICBmb3JtQ29uZmlnOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBbXQogICAgfSwKICAgIGdsb2JhbEZvcm1JbmZvOiB7CgogICAgfSwKICAgIHZhbGlkYXRlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmN1cnJlbnRGb3JtRGF0YSA9IHRoaXMuZm9ybURhdGEgOwogIH0KfQo="},{"version":3,"sources":["dap-ui-basic-form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dap-ui-basic-form.vue","sourceRoot":"packages/components/form/form","sourcesContent":["<!--\n * @Author: DevinShi\n * @Date: 2020-02-06 10:37:47\n * @LastEditors: Please set LastEditors\n * @LastEditTime: 2020-03-05 16:55:12\n * @Description: file content description\n -->\n<template>\n  <!-- 表单渲染，支持JSON Schema格式的渲染方式 -->\n  <div class=\"dap-ui-basic-form dap-ui-form\">\n      <dap-ui-basic-form-item\n        :rowSpan=\"itemConfig.rowSpan\"\n        :colSpan=\"itemConfig.colSpan\"\n        :uuid=\"itemConfig.uuid\"\n        v-for=\"itemConfig of visiableFormConfig\"\n        :key=\"itemConfig.uuid\">\n          <component\n            v-if=\"itemConfig.visiable && $baseFormRegister.getComponentType(itemConfig.componentName) === 'FORM_INPUT'\"\n            :defaultValue=\"itemConfig.defaultValue\"\n            :has-feedback=\"false\"\n            :label-color=\"itemConfig.labelColor\"\n            :validate-status=\"$v.currentFormData[itemConfig.dataCode].$dirty && $v.currentFormData[itemConfig.dataCode].$error ? 'error' : 'success'\"\n            :help=\"validationText(itemConfig)\"\n            :required=\"itemConfig.required\"\n            :is=\"itemConfig.componentName\"\n            :label=\"itemConfig.label\"\n            :value=\"currentFormData[itemConfig.dataCode]\"\n            :transValue.sync=\"currentFormData[itemConfig.transDataCode]\"\n            :uuid=\"itemConfig.uuid\"\n            :options=\"itemConfig.options\"\n            :disabled=\"isDisabled(itemConfig)\"\n            :placeholder=\"itemConfig.placeholder\"\n            :componentName=\"itemConfig.componentName\"\n            :columns=\"itemConfig.columnSet\"\n            :extraProp=\"itemConfig.extraProp\"\n            :colSpan=\"itemConfig.colSpan\"\n            :multi=\"itemConfig.multi\"\n            :documentId=\"globalFormInfo ? globalFormInfo.documentId : undefined\"\n            @formEventEmit=\"formEventEmit($event)\"\n            @updateTransValue=\"formValueTransChange(itemConfig.transDataCode, $event)\"\n            @change=\"formValueChange(itemConfig.dataCode, $event)\"></component>\n          \n          <component\n            :label=\"itemConfig.label\"\n            v-if=\"itemConfig.visiable && $baseFormRegister.getComponentType(itemConfig.componentName) === 'FORM_STATIC_RENDER'\"\n            :is=\"itemConfig.componentName\"\n            :uuid=\"itemConfig.uuid\"\n            :componentName=\"itemConfig.componentName\"\n            :extraProp=\"itemConfig.extraProp\"\n            @formEventEmit=\"formEventEmit($event)\"\n            :label-color=\"itemConfig.labelColor\"\n            :colSpan=\"itemConfig.colSpan\"></component>\n          \n          <component\n            :label=\"itemConfig.label\"\n            v-if=\"itemConfig.visiable && $baseFormRegister.getComponentType(itemConfig.componentName) === 'FORM_ATTACHMENT'\"\n            :is=\"itemConfig.componentName\"\n            :uuid=\"itemConfig.uuid\"\n            :componentName=\"itemConfig.componentName\"\n            :value=\"currentFormData[itemConfig.dataCode]\"\n            :customRequest=\"itemConfig.customRequest\"\n            :remove=\"itemConfig.remove\"\n            :fileCodeList=\"itemConfig.fileCodeList\"\n            :documentId=\"globalFormInfo ? globalFormInfo.documentId : undefined\"\n            :btnTitle=\"itemConfig.btnTitle\"\n            :uploadSize=\"itemConfig.uploadSize\"\n            :tableData=\"itemConfig.tableData\"\n            :beforeUpload=\"itemConfig.beforeUpload\"\n            :editOnNew=\"itemConfig.editOnNew\"\n            @formEventEmit=\"formEventEmit($event)\"\n            @change=\"formValueChange(itemConfig.dataCode, $event)\"\n            ></component>\n\n          <component\n            :ref=\"itemConfig.uuid\"\n            v-if=\"itemConfig.visiable && $baseFormRegister.getComponentType(itemConfig.componentName) === 'FORM_LAYOUT'\"  \n            v-model=\"currentFormData\"\n            @validate=\"validateChange(itemConfig.uuid, $event)\"\n            :layoutConfig=\"itemConfig\"\n            :uuid=\"itemConfig.uuid\"\n            :componentName=\"itemConfig.componentName\"\n            @formEventEmit=\"formEventEmit($event)\"\n            :is=\"itemConfig.componentName\"></component>\n\n            <a-empty \n                image=\"\"\n                v-if=\"!$baseFormRegister.getComponentType(itemConfig.componentName) || !$baseFormRegister.hasComponent(itemConfig.componentName)\">\n                <span slot=\"description\"> `{{itemConfig.componentName}}` 组件未注册 </span>\n            </a-empty>\n      </dap-ui-basic-form-item>\n  </div>\n</template>\n\n<script>\nimport { validationMixin } from 'vuelidate'\nimport { required, email } from 'vuelidate/lib/validators'\nimport phone from '../../../validates/phone.validate.js'\nimport table from '../../../validates/table.validate.js';\nimport ValidateUtil from '../../../utils/validate.util.js'\n\nexport default {\n  name: \"DapUiBasicForm\",\n  model: {\n    prop: 'formData',\n    event: 'change'\n  },\n  mixins: [validationMixin],\n  data: function() {\n    return {\n      currentFormData: {},\n      childrenValidate: {}\n    }\n  },\n  computed: {\n    visiableFormConfig: function() {\n      return this.formConfig.filter(itemConfig => {\n        return itemConfig && itemConfig.visiable;\n      })\n    }\n  },\n  // 添加验证器\n  validations() {\n    const currentFormData = {};\n    for (let itemConfig of this.formConfig) {\n      if (itemConfig.required) {\n        currentFormData[itemConfig.dataCode] = {\n            required\n        }\n      } else {\n        currentFormData[itemConfig.dataCode] = {}\n      }\n\n      if (itemConfig.componentName === \"dap-ui-input-email\") {\n        currentFormData[itemConfig.dataCode]['email'] = email;\n      } else if (itemConfig.componentName === \"dap-ui-input-tel\") {\n        currentFormData[itemConfig.dataCode]['phone'] = phone\n      } else if (itemConfig.componentName === \"dap-ui-table-extend\") {\n        currentFormData[itemConfig.dataCode]['required'] = table.required(itemConfig);\n      }\n    }\n    return {\n      currentFormData: currentFormData\n    }\n  },\n  methods: {\n      formValueTransChange(transDataCode, value) {\n        this.$set(this.currentFormData, transDataCode, value);\n        this.$emit('change', this.currentFormData);\n      },\n      formValueChange(dataCode, value) {\n        this.$set(this.currentFormData, dataCode, value);\n        this.$emit('change', this.currentFormData);\n        this.$v.currentFormData[dataCode].$touch();\n      },\n      validateChange(uuid, value) {\n        this.childrenValidate[uuid] = value;\n      },\n      getValidateError() {\n        let validateArray = [];\n        validateArray.push(this.$v);\n        validateArray = [\n          ...validateArray,\n          ...Object.values(this.childrenValidate)\n        ];\n        return ValidateUtil.mergeValidate(validateArray);\n      },\n      validateTouch() {\n        this.$v.$touch();\n        this.formConfig.forEach(itemConfig => {\n          if (this.$baseFormRegister.getComponentType(itemConfig.componentName) === 'FORM_LAYOUT') {\n            if ( this.$refs[itemConfig.uuid] &&  this.$refs[itemConfig.uuid][0]) {\n              this.$refs[itemConfig.uuid][0].validateTouch();\n            }\n          }\n        })\n      },\n      resetForm() {\n        this.$v.$reset();\n        this.formConfig.forEach(itemConfig => {\n          if (this.$baseFormRegister.getComponentType(itemConfig.componentName) === 'FORM_LAYOUT') {\n            if ( this.$refs[itemConfig.uuid] &&  this.$refs[itemConfig.uuid][0]) {\n              this.$refs[itemConfig.uuid][0].resetForm();\n            }\n          }\n        })\n        // this.currentFormData = this.formData;\n      },\n      /**\n       * 表单事件自动触发\n       */\n      formEventEmit($event) {\n        // 表单事件发送\n        this.$baseFormRegister.excuteAdapterEvent($event.componentName, $event, this.formConfig, this.globalFormInfo, this.formData)\n        this.$emit('formEventEmit', $event);\n      },\n      /**\n       * @author lizhihang\n       * @param itemConfig 表单配置\n       * @description 校验提示文字\n       * @date 2020-2-27\n       */\n      validationText(itemConfig) {\n        if (this.$v.currentFormData[itemConfig.dataCode].$dirty && this.$v.currentFormData[itemConfig.dataCode].$error) {\n          // console.log(this.$v.currentFormData[itemConfig.dataCode]);\n          if (!this.$v.currentFormData[itemConfig.dataCode].required) {\n            // 如果是必填校验，则显示 xxx为必填\n            return itemConfig.label +  '为必填';\n          } else {\n            // 如果是其他校验（如邮箱校验），则显示 xxx格式不正确\n            return itemConfig.label +  '格式不正确';\n          }\n        } else {\n          return undefined;\n        }\n      },\n      /**\n       * @author lizhihang\n       * @description 组件是否disable。disabled属性优先级高。\n       * @date 2020-3-3\n       */\n      isDisabled(itemConfig) {\n        if (itemConfig.disabled) {\n          // 如果只读 返回true\n          return true;\n        } else if (itemConfig.editOnNew && this.globalFormInfo.documentId) {\n          // 如果新建可编辑，当前是编辑时，返回ture\n          return true;\n        } else {\n          return false;\n        }\n      }\n  },\n  watch: {\n    formData: {\n      handler: function(newVal,oldVal) {\n        if (this.currentFormData !== newVal && newVal) {\n          this.currentFormData = newVal ;\n        }\n      },\n      deep: true\n    }\n  },\n  props: {\n    formData: {\n      type: Object,\n      default: {}\n    },\n    formConfig: {\n      type: Array,\n      default: []\n    },\n    globalFormInfo: {\n\n    },\n    validate: {\n      type: Object,\n    }\n  },\n  created() {\n    this.currentFormData = this.formData ;\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style src=\"./index.less\" lang=\"less\">\n</style>\n"]}]}