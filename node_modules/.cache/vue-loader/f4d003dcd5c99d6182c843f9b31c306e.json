{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/tab-layout/dap-ui-tab-layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/tab-layout/dap-ui-tab-layout.vue","mtime":1583476762828},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMYXlvdXRDb21wb25lbnRNaXhpbiBmcm9tICcuLi8uLi8uLi9taXhpbnMvbGF5b3V0LWNvbXBvbmVudC1taXhpbi5qcyc7CmltcG9ydCBCYXNpY0NvbXBvbmVudE1peGluIGZyb20gJy4uLy4uLy4uL21peGlucy9iYXNpYy1jb21wb25lbnQtbWl4aW4uanMnOwppbXBvcnQgVmFsaWRhdGVVdGlsIGZyb20gJy4uLy4uLy4uL3V0aWxzL3ZhbGlkYXRlLnV0aWwuanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiRGFwVWlUYWJMYXlvdXQiLAogICAgbW9kZWw6IHsKICAgICAgcHJvcDogJ2Zvcm1EYXRhJywKICAgICAgZXZlbnQ6ICdjaGFuZ2UnCiAgICB9LAogICAgbWl4aW5zOiBbIEJhc2ljQ29tcG9uZW50TWl4aW4sIExheW91dENvbXBvbmVudE1peGluXSwKICAgIHR5cGU6ICdGT1JNX0xBWU9VVCcsCiAgICBjb21wdXRlZDogewogICAgICB2YWxpZGF0ZVZhbCgpIHsKICAgICAgICBjb25zdCB2YWxpZGF0ZUFycmF5ID0gW10KICAgICAgICBpZiAodGhpcy4kcmVmcy52YWxpZGF0ZUZvcm0pIHsKICAgICAgICAgIHRoaXMuJHJlZnMudmFsaWRhdGVGb3JtLmZvckVhY2goZm9ybSA9PiB7CiAgICAgICAgICAgIHZhbGlkYXRlQXJyYXkucHVzaChmb3JtLmdldFZhbGlkYXRlRXJyb3IoKSk7CiAgICAgICAgICB9KQogICAgICAgIH0gCiAgICAgICAgcmV0dXJuIHZhbGlkYXRlQXJyYXk7CiAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgICAgYWN0aXZlS2V5OiAwLAogICAgICB9OwogICAgfSwKICAgIHByb3BzOiB7CiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICB9LAogICAgICBsYXlvdXRDb25maWc6IHsKICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgZGVmYXVsdDoge30KICAgICAgfSwKICAgICAgdmFsaWRhdGU6IHsKICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgIH0sCiAgICAgIGlzVmVydGljYWw6IHsKICAgICAgICB0eXBlOiBCb29sZWFuCiAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICB0aGlzLiR3YXRjaCgndmFsaWRhdGVWYWwnLCBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICAvLyDmt7vliqDpqozor4Hlmajov5Tlm57mlbDmja4KICAgICAgICB0aGlzLiRlbWl0KCd2YWxpZGF0ZScsIFZhbGlkYXRlVXRpbC5tZXJnZVZhbGlkYXRlKG5ld1ZhbCkpOwogICAgICB9LCB7CiAgICAgICAgZGVlcDogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIHZhbGlkYXRlVG91Y2goKSB7CiAgICAgICAgdGhpcy4kcmVmcy52YWxpZGF0ZUZvcm0uZm9yRWFjaChmb3JtID0+IHsKICAgICAgICAgIGZvcm0udmFsaWRhdGVUb3VjaCgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICByZXNldEZvcm0oKSB7CiAgICAgICAgdGhpcy4kcmVmcy52YWxpZGF0ZUZvcm0uZm9yRWFjaChmb3JtID0+IHsKICAgICAgICAgIGZvcm0ucmVzZXRGb3JtKCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIG9wZW5JbmRleChpbmRleCkgewogICAgICAgIGlmICh0aGlzLmFjdGl2ZUtleS5pbmRleE9mKGluZGV4ICsgJycpID09PSAtMSkgewogICAgICAgICAgdGhpcy5hY3RpdmVLZXkgPSBwdXNoKGluZGV4ICsgJycpOwogICAgICAgIH0KICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["dap-ui-tab-layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dap-ui-tab-layout.vue","sourceRoot":"packages/components/form/tab-layout","sourcesContent":["<!--\n * @Author: DevinShi\n * @Date: 2020-02-06 10:37:47\n * @LastEditors: DevinShi\n * @LastEditTime: 2020-02-17 08:47:32\n * @Description: file content description\n -->\n<template>\n  <div class=\"dap-ui-tab-layout dap-ui-form-item\">\n    <a-tabs :tabPosition=\"isVertical ? 'right' : 'top'\" v-model=\"activeKey\" type=\"card\">\n        <a-tab-pane v-for=\"(childLayout, index) in layoutConfig.children\" :key=\"index\">\n            <template v-slot:tab>\n                <span :style=\"{color: childLayout.labelColor}\">{{childLayout.label}}</span>\n            </template>\n            <dap-ui-basic-form :ref=\"'validateForm'\" v-model=\"formData\" :formConfig=\"childLayout.children\"></dap-ui-basic-form>\n        </a-tab-pane>\n    </a-tabs>\n  </div>\n</template>\n<script>\nimport LayoutComponentMixin from '../../../mixins/layout-component-mixin.js';\nimport BasicComponentMixin from '../../../mixins/basic-component-mixin.js';\nimport ValidateUtil from '../../../utils/validate.util.js'\n\nexport default {\n    name: \"DapUiTabLayout\",\n    model: {\n      prop: 'formData',\n      event: 'change'\n    },\n    mixins: [ BasicComponentMixin, LayoutComponentMixin],\n    type: 'FORM_LAYOUT',\n    computed: {\n      validateVal() {\n        const validateArray = []\n        if (this.$refs.validateForm) {\n          this.$refs.validateForm.forEach(form => {\n            validateArray.push(form.getValidateError());\n          })\n        } \n        return validateArray;\n      }\n    },\n    data() {\n      return {\n          activeKey: 0,\n      };\n    },\n    props: {\n      formData: {\n        type: Object,\n      },\n      layoutConfig: {\n        type: Object,\n        default: {}\n      },\n      validate: {\n        type: Object,\n      },\n      isVertical: {\n        type: Boolean\n      }\n    },\n    mounted() {\n      this.$watch('validateVal', function (newVal, oldVal) {\n        // 添加验证器返回数据\n        this.$emit('validate', ValidateUtil.mergeValidate(newVal));\n      }, {\n        deep: true\n      });\n    },\n    methods: {\n      validateTouch() {\n        this.$refs.validateForm.forEach(form => {\n          form.validateTouch();\n        });\n      },\n      resetForm() {\n        this.$refs.validateForm.forEach(form => {\n          form.resetForm();\n        });\n      },\n      openIndex(index) {\n        if (this.activeKey.indexOf(index + '') === -1) {\n          this.activeKey = push(index + '');\n        }\n      }\n    }\n}\n</script>\n\n<style src=\"./index.less\" lang=\"less\">\n</style>\n"]}]}