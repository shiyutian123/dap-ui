{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/collapse-layout/dap-ui-collapse-layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/collapse-layout/dap-ui-collapse-layout.vue","mtime":1583257594000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMYXlvdXRDb21wb25lbnRNaXhpbiBmcm9tICcuLi8uLi8uLi9taXhpbnMvbGF5b3V0LWNvbXBvbmVudC1taXhpbi5qcyc7CmltcG9ydCBCYXNpY0NvbXBvbmVudE1peGluIGZyb20gJy4uLy4uLy4uL21peGlucy9iYXNpYy1jb21wb25lbnQtbWl4aW4uanMnOwppbXBvcnQgVmFsaWRhdGVVdGlsIGZyb20gJy4uLy4uLy4uL3V0aWxzL3ZhbGlkYXRlLnV0aWwuanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiRGFwVWlDb2xsYXBzZUxheW91dCIsCiAgICBtb2RlbDogewogICAgICBwcm9wOiAnZm9ybURhdGEnLAogICAgICBldmVudDogJ2NoYW5nZScKICAgIH0sCiAgICBtaXhpbnM6IFsgQmFzaWNDb21wb25lbnRNaXhpbiwgTGF5b3V0Q29tcG9uZW50TWl4aW5dLAogICAgdHlwZTogJ0ZPUk1fTEFZT1VUJywKICAgIGNvbXB1dGVkOiB7CiAgICAgIHZhbGlkYXRlVmFsKCkgewogICAgICAgIGNvbnN0IHZhbGlkYXRlQXJyYXkgPSBbXQogICAgICAgIHRoaXMuJHJlZnMudmFsaWRhdGVGb3JtLmZvckVhY2goZm9ybSA9PiB7CiAgICAgICAgICB2YWxpZGF0ZUFycmF5LnB1c2goZm9ybS5nZXRWYWxpZGF0ZUVycm9yKCkpOwogICAgICAgIH0pCiAgICAgICAgcmV0dXJuIHZhbGlkYXRlQXJyYXk7CiAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgICAgYWN0aXZlS2V5OiBbJzAnXSwKICAgICAgfTsKICAgIH0sCiAgICBwcm9wczogewogICAgICBmb3JtRGF0YTogewogICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgfSwKICAgICAgbGF5b3V0Q29uZmlnOiB7CiAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgIGRlZmF1bHQ6IHt9CiAgICAgIH0sCiAgICAgIHZhbGlkYXRlOiB7CiAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgdGhpcy4kd2F0Y2goJ3ZhbGlkYXRlVmFsJywgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgLy8g5re75Yqg6aqM6K+B5Zmo6L+U5Zue5pWw5o2uCiAgICAgICAgY29uc29sZS5sb2coVmFsaWRhdGVVdGlsLm1lcmdlVmFsaWRhdGUobmV3VmFsKSk7CiAgICAgICAgdGhpcy4kZW1pdCgndmFsaWRhdGUnLCBWYWxpZGF0ZVV0aWwubWVyZ2VWYWxpZGF0ZShuZXdWYWwpKTsKICAgICAgfSwgewogICAgICAgIGRlZXA6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICB2YWxpZGF0ZVRvdWNoKCkgewogICAgICAgIHRoaXMuJHJlZnMudmFsaWRhdGVGb3JtLmZvckVhY2goZm9ybSA9PiB7CiAgICAgICAgICBmb3JtLnZhbGlkYXRlVG91Y2goKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgcmVzZXRGb3JtKCkgewogICAgICAgIHRoaXMuJHJlZnMudmFsaWRhdGVGb3JtLmZvckVhY2goZm9ybSA9PiB7CiAgICAgICAgICBmb3JtLnJlc2V0Rm9ybSgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBvcGVuSW5kZXgoaW5kZXgpIHsKICAgICAgICBpZiAodGhpcy5hY3RpdmVLZXkuaW5kZXhPZihpbmRleCArICcnKSA9PT0gLTEpIHsKICAgICAgICAgIHRoaXMuYWN0aXZlS2V5ID0gcHVzaChpbmRleCArICcnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["dap-ui-collapse-layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dap-ui-collapse-layout.vue","sourceRoot":"packages/components/form/collapse-layout","sourcesContent":["<!--\n * @Author: DevinShi\n * @Date: 2020-02-06 10:37:47\n * @LastEditors: DevinShi\n * @LastEditTime: 2020-02-17 08:47:32\n * @Description: file content description\n -->\n<template>\n  <div class=\"dap-ui-collapse-layout dap-ui-form-item\">\n    <a-collapse v-model=\"activeKey\">\n      <a-collapse-panel v-for=\"(childLayout, index) in layoutConfig.children\" :key=\"index\">\n        <template v-slot:header>\n          <span :style=\"{color: childLayout.labelColor}\">{{childLayout.label}}</span>\n        </template>\n        <dap-ui-basic-form :ref=\"'validateForm'\" v-model=\"formData\" :formConfig=\"childLayout.children\"></dap-ui-basic-form>\n        <!-- {{$refs}} -->\n      </a-collapse-panel>\n    </a-collapse>\n  </div>\n</template>\n<script>\nimport LayoutComponentMixin from '../../../mixins/layout-component-mixin.js';\nimport BasicComponentMixin from '../../../mixins/basic-component-mixin.js';\nimport ValidateUtil from '../../../utils/validate.util.js'\n\nexport default {\n    name: \"DapUiCollapseLayout\",\n    model: {\n      prop: 'formData',\n      event: 'change'\n    },\n    mixins: [ BasicComponentMixin, LayoutComponentMixin],\n    type: 'FORM_LAYOUT',\n    computed: {\n      validateVal() {\n        const validateArray = []\n        this.$refs.validateForm.forEach(form => {\n          validateArray.push(form.getValidateError());\n        })\n        return validateArray;\n      }\n    },\n    data() {\n      return {\n          activeKey: ['0'],\n      };\n    },\n    props: {\n      formData: {\n        type: Object,\n      },\n      layoutConfig: {\n        type: Object,\n        default: {}\n      },\n      validate: {\n        type: Object,\n      }\n    },\n    mounted() {\n      this.$watch('validateVal', function (newVal, oldVal) {\n        // 添加验证器返回数据\n        console.log(ValidateUtil.mergeValidate(newVal));\n        this.$emit('validate', ValidateUtil.mergeValidate(newVal));\n      }, {\n        deep: true\n      });\n    },\n    methods: {\n      validateTouch() {\n        this.$refs.validateForm.forEach(form => {\n          form.validateTouch();\n        });\n      },\n      resetForm() {\n        this.$refs.validateForm.forEach(form => {\n          form.resetForm();\n        });\n      },\n      openIndex(index) {\n        if (this.activeKey.indexOf(index + '') === -1) {\n          this.activeKey = push(index + '');\n        }\n      }\n    }\n}\n</script>\n\n<style src=\"./index.less\" lang=\"less\">\n</style>\n"]}]}