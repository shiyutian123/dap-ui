{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/table/dap-ui-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/table/dap-ui-table.vue","mtime":1581514757777},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgJ3hlLXV0aWxzJwppbXBvcnQgVlhFVGFibGUgZnJvbSAndnhlLXRhYmxlJwppbXBvcnQgJ3Z4ZS10YWJsZS9saWIvaW5kZXguY3NzJwpWdWUudXNlKFZYRVRhYmxlKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEYXBVaVRhYmxlJywKICBwcm9wczogewogICAgdGFibGVCYXNlQ29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICB0YWJsZVVpQ29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgdGFibGVEYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbXB1dFRhYmxlRGF0YTogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy50YWJsZUJhc2VDb25maWcuZnJvbnRQYWdpbmcpIHsKICAgICAgICBjb25zdCBzdGFydCA9ICh0aGlzLnRhYmxlQmFzZUNvbmZpZy50YWJsZVBhZ2UuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMudGFibGVCYXNlQ29uZmlnLnRhYmxlUGFnZS5wYWdlU2l6ZTsKICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIHRoaXMudGFibGVCYXNlQ29uZmlnLnRhYmxlUGFnZS5wYWdlU2l6ZTsKICAgICAgICByZXR1cm4gdGhpcy50YWJsZURhdGEuc2xpY2Uoc3RhcnQsIGVuZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGFibGVEYXRhOwogICAgICB9CiAgICB9LAogICAgY29tcHV0UmFkaW9Db25maWc6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoCiAgICAgICAgdGhpcy50YWJsZUJhc2VDb25maWcgJiYKICAgICAgICB0aGlzLnRhYmxlQmFzZUNvbmZpZy5zZWxlY3RNb2RlID09PSAnc2luZ2xlJykgewogICAgICAgIGxldCB0ZW1wID0gdGhpcy50YWJsZUJhc2VDb25maWcgJiYgdGhpcy50YWJsZUJhc2VDb25maWcucmFkaW9Db25maWc7CiAgICAgICAgaWYgKHRlbXApIHsKICAgICAgICAgIHRlbXAudHJpZ2dlciA9ICdyb3cnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wID0ge3RyaWdnZXI6ICdyb3cnfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRlbXA7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMudGFibGVCYXNlQ29uZmlnICYmIHRoaXMudGFibGVCYXNlQ29uZmlnLnJhZGlvQ29uZmlnOwogICAgfSwKICAgIGNvbXB1dENoZWNrYm94Q29uZmlnOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLnRhYmxlQmFzZUNvbmZpZyAmJgogICAgICAgIHRoaXMudGFibGVCYXNlQ29uZmlnLnNlbGVjdE1vZGUgPT09ICdtdWx0aXBhcnQnKSB7CiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLnRhYmxlQmFzZUNvbmZpZyAmJiB0aGlzLnRhYmxlQmFzZUNvbmZpZy5jaGVja2JveENvbmZpZzsKICAgICAgICBpZiAodGVtcCkgewogICAgICAgICAgdGVtcC50cmlnZ2VyID0gJ3Jvdyc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXAgPSB7IHRyaWdnZXI6ICdyb3cnIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZW1wOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnRhYmxlQmFzZUNvbmZpZyAmJiB0aGlzLnRhYmxlQmFzZUNvbmZpZy5jaGVja2JveENvbmZpZzsKICAgIH0sCiAgICBjb21wdXRTaG93T3ZlcmZsb3c6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMudGFibGVCYXNlQ29uZmlnICYmIHRoaXMudGFibGVCYXNlQ29uZmlnLnZpcnR1YWxMaXN0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMudGFibGVCYXNlQ29uZmlnICYmIHRoaXMudGFibGVCYXNlQ29uZmlnLnNob3dPdmVyZmxvdzsKICAgIH0sCiAgICBjb21wdXRTaG93SGVhZGVyT3ZlcmZsb3c6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMudGFibGVCYXNlQ29uZmlnICYmIHRoaXMudGFibGVCYXNlQ29uZmlnLnZpcnR1YWxMaXN0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMudGFibGVCYXNlQ29uZmlnICYmIHRoaXMudGFibGVCYXNlQ29uZmlnLnNob3dIZWFkZXJPdmVyZmxvdzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB0YWJsZURhdGE6IHsKICAgICAgaGFuZGxlciAobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgaWYgKHRoaXMudGFibGVCYXNlQ29uZmlnLmZyb250UGFnaW5nICYmIG5ld1ZhbHVlKSB7CiAgICAgICAgICB0aGlzLnRhYmxlQmFzZUNvbmZpZy50YWJsZVBhZ2UudG90YWxSZXN1bHQgPSBuZXdWYWx1ZS5sZW5ndGg7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbjog5YiG6aG15Zmo5pS55Y+Y5LqL5Lu2CiAgICAgKiBAcGFyYW0ge09iamVjdH0gZSAtIOWIhumhteWZqOaUueWPmOaXtueahOWbnuiwg+WPguaVsAogICAgICogQHBhcmFtIHtTdHJpbmd9IGUudHlwZSAtIOexu+WeiwogICAgICogQHBhcmFtIHtTdHJpbmd9IGUucGFnZVNpemUgLSDlvZPliY3mr4/pobXmnaHmlbAKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlLmN1cnJlbnRQYWdlIC0g54K55Ye755qE5b2T5YmN6aG1CiAgICAgKiBAcmV0dXJuOiAKICAgICAqLwogICAgaGFuZGxlUGFnZUNoYW5nZShlKSB7CiAgICAgIGlmICh0aGlzLnRhYmxlQmFzZUNvbmZpZy5mcm9udFBhZ2luZykgewogICAgICAgIHRoaXMudGFibGVCYXNlQ29uZmlnLnRhYmxlUGFnZS5jdXJyZW50UGFnZSA9IGUuY3VycmVudFBhZ2U7CiAgICAgICAgdGhpcy50YWJsZUJhc2VDb25maWcudGFibGVQYWdlLnBhZ2VTaXplID0gZS5wYWdlU2l6ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdwYWdlLWNoYW5nZScsIGUpOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiBAZGVzY3JpcHRpb246IOWNlemAiemAieS4reS6i+S7tgogICAgICogQHBhcmFtIHtPYmplY3R9IGUgLSDljZXpgInpgInkuK3ml7bnmoTlm57osIPlj4LmlbAKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlLnJvdyAtIOmAieS4reihjOeahOaVsOaNrgogICAgICogQHJldHVybjogCiAgICAgKi8KICAgIGhhbmRsZVJhZGlvQ2hhbmdlKGUpIHsKICAgICAgLy8g5bCG5Y2V5p2h5pWw5o2u5aSE55CG5oiQ5LiA5Liq5YWD57Sg55qE5pWw57uECiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgc2VsZWN0aW9uOiBbZS5yb3ddCiAgICAgIH07CiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdC1jaGFuZ2UnLCBkYXRhKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBkZXNjcmlwdGlvbjog5aSa6YCJ6YCJ5Lit5LqL5Lu2CiAgICAgKiBAcGFyYW0ge09iamVjdH0gZSAtIOWkmumAiemAieS4reaXtueahOWbnuiwg+WPguaVsAogICAgICogQHBhcmFtIHtPYmplY3R9IGUuc2VsZWN0aW9uIC0g6YCJ5Lit6KGM55qE5pWw5o2uCiAgICAgKiBAcmV0dXJuOiAKICAgICAqLwogICAgaGFuZGxlQ2hlY2tib3hDaGFuZ2UoZSkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIHNlbGVjdGlvbjogZS5zZWxlY3Rpb24KICAgICAgfTsKICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0LWNoYW5nZScsIGRhdGEpOwogICAgfQogIH0KfQo="},{"version":3,"sources":["dap-ui-table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dap-ui-table.vue","sourceRoot":"packages/components/table","sourcesContent":["<!--\n * @Author: your name\n * @Date: 2020-02-11 14:36:56\n * @LastEditTime : 2020-02-12 21:00:26\n * @LastEditors  : Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /lerna-dap/packages/dap-vue-ui/packages/components/table/dap-ui-table.vue\n -->\n<template>\n  <div class=\"dap-ui-table\">\n    <vxe-table\n      stripe\n      highlight-hover-row\n      :show-overflow=\"computShowOverflow\"\n      :show-header-overflow=\"computShowHeaderOverflow\"\n      :loading=\"tableBaseConfig.loading\"\n      :size=\"tableBaseConfig.size || 'medium'\"\n      :height=\"tableBaseConfig.height\"\n      :z-index=\"tableBaseConfig.zIndex\"\n      :data=\"computTableData\"\n      :row-id=\"tableBaseConfig.rowId\"\n      :radio-config=\"computRadioConfig\"\n      :checkbox-config=\"computCheckboxConfig\"\n      @radio-change=\"handleRadioChange\"\n      @checkbox-change=\"handleCheckboxChange\"\n      @select-change=\"handleCheckboxChange\">\n      <vxe-table-column v-if=\"tableBaseConfig.selectMode === 'single'\" type=\"radio\" title=\"\" width=\"60\"></vxe-table-column>\n      <vxe-table-column v-if=\"tableBaseConfig.selectMode === 'multipart'\" type=\"checkbox\" width=\"60\"></vxe-table-column>\n      <vxe-table-column v-if=\"!tableBaseConfig.hideSeq\" type=\"seq\" width=\"60\"></vxe-table-column>\n      <template v-for=\"(config, index) in tableBaseConfig.columns\">\n        <vxe-table-column v-if=\"!config.slotName\" :key=\"index\" v-bind=\"config\"></vxe-table-column>\n        <vxe-table-column v-if=\"config.slotName\" :key=\"index\" v-bind=\"config\">\n          <template v-slot=\"{ row,rowIndex }\">\n            <slot\n            :name=\"config.slotName\"\n            :row=\"row\"\n            :rowIndex=\"rowIndex\">\n            </slot>\n          </template>\n        </vxe-table-column>\n      </template>\n    </vxe-table>\n    <vxe-pager\n      v-if=\"tableBaseConfig.tablePage\"\n      border\n      size=\"medium\"\n      :loading=\"tableBaseConfig.loading\"\n      :current-page=\"tableBaseConfig.tablePage.currentPage\"\n      :page-size=\"tableBaseConfig.tablePage.pageSize\"\n      :total=\"tableBaseConfig.tablePage.totalResult\"\n      :layouts=\"['PrevPage', 'JumpNumber', 'NextPage', 'FullJump', 'Sizes', 'Total']\"\n      @page-change=\"handlePageChange\">\n    </vxe-pager>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport 'xe-utils'\nimport VXETable from 'vxe-table'\nimport 'vxe-table/lib/index.css'\nVue.use(VXETable)\n\nexport default {\n  name: 'DapUiTable',\n  props: {\n    tableBaseConfig: {\n      type: Object,\n      required: true,\n      default: () => {\n        return {};\n      }\n    },\n    tableUiConfig: {\n      type: Object,\n      required: false,\n      default: () => {\n        return {};\n      }\n    },\n    tableData: {\n      type: Object,\n      required: true,\n      default: () => {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n    }\n  },\n  computed: {\n    computTableData: function () {\n      if (this.tableBaseConfig.frontPaging) {\n        const start = (this.tableBaseConfig.tablePage.currentPage - 1) * this.tableBaseConfig.tablePage.pageSize;\n        const end = start + this.tableBaseConfig.tablePage.pageSize;\n        return this.tableData.slice(start, end);\n      } else {\n        return this.tableData;\n      }\n    },\n    computRadioConfig: function() {\n      if (\n        this.tableBaseConfig &&\n        this.tableBaseConfig.selectMode === 'single') {\n        let temp = this.tableBaseConfig && this.tableBaseConfig.radioConfig;\n        if (temp) {\n          temp.trigger = 'row';\n        } else {\n          temp = {trigger: 'row'};\n        }\n        return temp;\n      }\n      return this.tableBaseConfig && this.tableBaseConfig.radioConfig;\n    },\n    computCheckboxConfig: function () {\n      if (\n        this.tableBaseConfig &&\n        this.tableBaseConfig.selectMode === 'multipart') {\n        let temp = this.tableBaseConfig && this.tableBaseConfig.checkboxConfig;\n        if (temp) {\n          temp.trigger = 'row';\n        } else {\n          temp = { trigger: 'row' };\n        }\n        return temp;\n      }\n      return this.tableBaseConfig && this.tableBaseConfig.checkboxConfig;\n    },\n    computShowOverflow: function () {\n      if (this.tableBaseConfig && this.tableBaseConfig.virtualList) {\n        return true;\n      }\n      return this.tableBaseConfig && this.tableBaseConfig.showOverflow;\n    },\n    computShowHeaderOverflow: function () {\n      if (this.tableBaseConfig && this.tableBaseConfig.virtualList) {\n        return true;\n      }\n      return this.tableBaseConfig && this.tableBaseConfig.showHeaderOverflow;\n    }\n  },\n  watch: {\n    tableData: {\n      handler (newValue, oldValue) {\n        if (this.tableBaseConfig.frontPaging && newValue) {\n          this.tableBaseConfig.tablePage.totalResult = newValue.length;\n        }\n      },\n      immediate: true\n    }\n  },\n  created() {\n  },\n  methods: {\n    /**\n     * @description: 分页器改变事件\n     * @param {Object} e - 分页器改变时的回调参数\n     * @param {String} e.type - 类型\n     * @param {String} e.pageSize - 当前每页条数\n     * @param {String} e.currentPage - 点击的当前页\n     * @return: \n     */\n    handlePageChange(e) {\n      if (this.tableBaseConfig.frontPaging) {\n        this.tableBaseConfig.tablePage.currentPage = e.currentPage;\n        this.tableBaseConfig.tablePage.pageSize = e.pageSize;\n      } else {\n        this.$emit('page-change', e);\n      }\n    },\n    /**\n     * @description: 单选选中事件\n     * @param {Object} e - 单选选中时的回调参数\n     * @param {Object} e.row - 选中行的数据\n     * @return: \n     */\n    handleRadioChange(e) {\n      // 将单条数据处理成一个元素的数组\n      const data = {\n        selection: [e.row]\n      };\n      this.$emit('select-change', data);\n    },\n    /**\n     * @description: 多选选中事件\n     * @param {Object} e - 多选选中时的回调参数\n     * @param {Object} e.selection - 选中行的数据\n     * @return: \n     */\n    handleCheckboxChange(e) {\n      const data = {\n        selection: e.selection\n      };\n      this.$emit('select-change', data);\n    }\n  }\n}\n</script>\n"]}]}