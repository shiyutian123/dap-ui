{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/org-select/dap-ui-org-select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/org-select/dap-ui-org-select.vue","mtime":1583521197285},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IElucHV0Q29tcG9uZW50TWl4aW4gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL2lucHV0LWNvbXBvbmVudC1taXhpbi5qcyc7CmltcG9ydCBCYXNpY0NvbXBvbmVudE1peGluIGZyb20gJy4uLy4uLy4uL21peGlucy9iYXNpYy1jb21wb25lbnQtbWl4aW4uanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRhcFVpT3JnU2VsZWN0IiwKICB0eXBlOiAnRk9STV9JTlBVVCcsCiAgbWl4aW5zOiBbSW5wdXRDb21wb25lbnRNaXhpbiwgQmFzaWNDb21wb25lbnRNaXhpbl0sCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAogIGNvbXB1dGVkOiB7CiAgICBjYWxjU2VsZWN0ZWRBcnJheTogZnVuY3Rpb24gY2FsY1NlbGVjdGVkQXJyYXkoKSB7CiAgICAgIHJldHVybiB0aGlzLmV4dHJhUHJvcC5zZWxlY3RlZEFycmF5LnNsaWNlKDAsIHRoaXMubXVsdENvdW50KTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtdWx0Q291bnQ6IDMKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvL1RPRE86IOS4jeWQiOmAgueahOaWueahiAogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5leHRyYVByb3AubW9kZSA9PT0gJ2Nhc2NhZGUnKSB7CiAgICAgICAgX3RoaXMuJGZvcm1FdmVudEVtaXQoInF1ZXJ5LW9wdGlvbnMiKTsKICAgICAgfQogICAgfSwgMzAwKTsKICB9LAogIHdhdGNoOiB7CiAgICAidmFsdWUiOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICBpZiAobmV3VmFsICYmIG5ld1ZhbC5sZW5ndGggIT09IDApIHsKICAgICAgICAgIGlmICh0aGlzLmV4dHJhUHJvcC5tb2RlID09PSAnY2FzY2FkZScpIHsKICAgICAgICAgICAgdGhpcy4kZm9ybUV2ZW50RW1pdCgicXVlcnktb3B0aW9ucyIpOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV4dHJhUHJvcC5tb2RlID09PSAibW9kYWwiICYmIHRoaXMuZXh0cmFQcm9wLnNlbGVjdGVkQXJyYXkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMuJGZvcm1FdmVudEVtaXQoInF1ZXJ5LW9yZy1pbmZvIiwgbmV3VmFsKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgICJleHRyYVByb3Aub3B0aW9ucyI6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwsIG9sZFZhbCkgewogICAgICAgIGlmIChuZXdWYWwgJiYgbmV3VmFsLmxlbmd0aCA+IDApIHsvLyBpZiAodGhpcy5leHRyYVByb3Auc2VsZWN0VHlwZSA9PT0gInNpbmdsZSIpIHsKICAgICAgICAgIC8vICAgdGhpcy5zZWxlY3RlZENvZGVBcnJheSA9IHRoaXMudmFsdWUKICAgICAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy5leHRyYVByb3Auc2VsZWN0VHlwZSA9PT0gIm11bHQiKSB7CiAgICAgICAgICAvLyAgIHRoaXMuc2VsZWN0ZWRDb2RlQXJyYXkgPSB0aGlzLnZhbHVlIGluc3RhbmNlb2YgQXJyYXkgPyB0aGlzLnZhbHVlIDogW3RoaXMudmFsdWVdCiAgICAgICAgICAvLyB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgImV4dHJhUHJvcC5zZWxlY3RlZEFycmF5IjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgaWYgKG5ld1ZhbC5sZW5ndGggPiAwICYmIHRoaXMuZXh0cmFQcm9wLm1vZGUgPT09ICJtb2RhbCIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbCk7CiAgICAgICAgICB0aGlzLmVtaXRWYWx1ZUNoYW5nZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZSh2aXNpYmxlKSB7CiAgICAgIGlmICh2aXNpYmxlKSB7CiAgICAgICAgZGVidWdnZXI7CiAgICAgICAgdGhpcy4kZm9ybUV2ZW50RW1pdCgicXVlcnktb3B0aW9ucyIpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VsZWN0OiBmdW5jdGlvbiBoYW5kbGVTZWxlY3QodmFsdWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgaXRlbSA9IHRoaXMuZXh0cmFQcm9wLm9wdGlvbnMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmNvZGUgPT09IHZhbHVlOwogICAgICB9KTsKCiAgICAgIGlmICh2YWx1ZSAmJiBpdGVtKSB7CiAgICAgICAgaWYgKHRoaXMuZXh0cmFQcm9wLnNlbGVjdFR5cGUgPT09ICJzaW5nbGUiKSB7CiAgICAgICAgICB0aGlzLmV4dHJhUHJvcC5zZWxlY3RlZEFycmF5LnBvcCgpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5leHRyYVByb3Auc2VsZWN0ZWRBcnJheS5wdXNoKGl0ZW0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5leHRyYVByb3Auc2VsZWN0ZWRBcnJheS5sZW5ndGggPiB0aGlzLm11bHRDb3VudCkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBub2RlcyA9IF90aGlzMi4kcmVmcy5jYXNjYWRlU2VsZWN0LiRlbC5xdWVyeVNlbGVjdG9yQWxsKCIuYW50LXNlbGVjdC1zZWxlY3Rpb25fX2Nob2ljZSIpOwoKICAgICAgICAgIHZhciBsYXN0Tm9kZSA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdOwogICAgICAgICAgbGFzdE5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JzsKICAgICAgICAgIGxhc3ROb2RlLnN0eWxlLmJvcmRlciA9IDA7CiAgICAgICAgICBsYXN0Tm9kZS5zdHlsZS5wYWRkaW5nID0gMDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHsKICAgICAgaWYgKHRoaXMuZXh0cmFQcm9wLnNlbGVjdFR5cGUgPT09ICJzaW5nbGUiICYmIHRoaXMuZXh0cmFQcm9wLm1vZGUgPT09ICJtb2RhbCIpIHsKICAgICAgICB0aGlzLiRlbWl0KCJvcGVuLW1vZGFsIik7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2Uob3JnKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZXh0cmFQcm9wLnNlbGVjdGVkQXJyYXkuZmluZEluZGV4KGZ1bmN0aW9uIChfb3JnKSB7CiAgICAgICAgcmV0dXJuIF9vcmcuY29kZSA9PT0gb3JnLmNvZGU7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIHRoaXMuZXh0cmFQcm9wLnNlbGVjdGVkQXJyYXkuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB0aGlzLmVtaXRWYWx1ZUNoYW5nZSgpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlT3Blbk1vZGFsOiBmdW5jdGlvbiBoYW5kbGVPcGVuTW9kYWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoIm9wZW4tbW9kYWwiKTsKICAgIH0sCiAgICBlbWl0VmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIGVtaXRWYWx1ZUNoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuZXh0cmFQcm9wLnNlbGVjdFR5cGUgPT09ICJzaW5nbGUiKSB7CiAgICAgICAgdGhpcy4kZm9ybUV2ZW50RW1pdCgiY2hhbmdlIiwgdGhpcy5leHRyYVByb3Auc2VsZWN0ZWRBcnJheS5tYXAoZnVuY3Rpb24gKG9yZykgewogICAgICAgICAgcmV0dXJuIG9yZy5jb2RlOwogICAgICAgIH0pWzBdKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmV4dHJhUHJvcC5zZWxlY3RUeXBlID09PSAibXVsdCIpIHsKICAgICAgICB0aGlzLiRmb3JtRXZlbnRFbWl0KCJjaGFuZ2UiLCB0aGlzLmV4dHJhUHJvcC5zZWxlY3RlZEFycmF5Lm1hcChmdW5jdGlvbiAob3JnKSB7CiAgICAgICAgICByZXR1cm4gb3JnLmNvZGU7CiAgICAgICAgfSkpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["dap-ui-org-select.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n * @Author: DevinShi\n * @Date: 2020-02-06 10:37:47\n * @LastEditors: DevinShi\n * @LastEditTime: 2020-02-18 11:01:33\n * @Description: file content description\n -->\n<template>\n  <div class=\"dap-ui-org-select dap-ui-form-item dap-ui-form-input\">\n    <a-form-item\n      :label-col=\"labelCol\"\n      :wrapper-col=\"wrapperCol\"\n      :has-feedback=\"hasFeedback\"\n      :validate-status=\"validateStatus\"\n      :extra=\"extra\"\n      :required=\"required\"\n      :colon=\"colon\"\n      :help=\"help\">\n      <template v-slot:label>\n        <span :style=\"{color: labelColor}\">{{label}}</span>\n      </template>\n      <template v-if=\"extraProp.mode === 'modal'\">\n        <div \n          class=\"display-block\" \n          :class=\"{'display-block-error': validateStatus === 'error'}\" \n          tabindex = \"0\" \n          @click=\"handleClick\"\n        >\n          <template v-if=\"extraProp.selectType === 'single'\">\n            <div class=\"display-block-placeholder\" v-if=\"extraProp.selectType === 'single' && extraProp.selectedArray.length === 0\">\n              {{ placeholder }}\n            </div>\n            <div class=\"display-block-single\" v-if=\"extraProp.selectedArray[0]\">\n              <span>{{ extraProp.selectedArray[0].name }}</span>\n            </div>\n            <div class=\"display-block-single-icon\">\n              <a-button shape=\"circle\">\n                <a-icon :type=\"extraProp.selectedArray.length ? 'swap' : 'apartment'\"></a-icon>\n              </a-button>\n            </div>\n          </template>\n          <template v-if=\"extraProp.selectType === 'mult'\">\n            <template v-for=\"org in calcSelectedArray\">\n              <a-tag :closable=\"true\" @close=\"handleClose(org)\">{{ org.name }}</a-tag>\n            </template>\n            <div class=\"display-block-more-item\" v-if=\"extraProp.selectedArray.length > multCount\">\n              <a-tooltip :title=\"'共选: ' + extraProp.selectedArray.length + '组织'\">\n                <a-button shape=\"circle\">\n                  <a-icon type=\"small-dash\"></a-icon>\n                </a-button>\n              </a-tooltip>\n            </div>\n            <div class=\"display-block-mult-add-item\">\n              <a-button shape=\"circle\" @click=\"handleOpenModal\">\n                <a-icon type=\"plus\"></a-icon>\n              </a-button>\n            </div>\n          </template>\n        </div>\n      </template>\n      <template v-if=\"extraProp.mode === 'cascade'\">\n        <a-select\n          ref=\"cascadeSelect\"\n          :value=\"value\"\n          @change=\"$formEventEmit('change', $event)\"\n          :mode=\"extraProp.selectType === 'mult' ? 'multiple' : 'default'\"\n          :maxTagCount=\"multCount\"\n          :placeholder=\"placeholder\"\n          :disabled=\"disabled\"\n          @dropdownVisibleChange=\"onDropdownVisibleChange\"\n          @select=\"handleSelect\"\n        >\n          <template slot=\"maxTagPlaceholder\">\n            <div class=\"display-block-more-item\" v-if=\"extraProp.selectedArray.length > multCount\">\n              <a-tooltip :title=\"'共选: ' + extraProp.selectedArray.length + '组织'\">\n                <a-button shape=\"circle\">\n                  <a-icon type=\"small-dash\"></a-icon>\n                </a-button>\n              </a-tooltip>\n            </div>\n          </template>\n          <template v-for=\"option in extraProp.options\">\n            <a-select-option :value=\"option.code\" :key=\"option.key\">{{ option.name }}</a-select-option>\n          </template>\n        </a-select>\n      </template>\n    </a-form-item>\n  </div>\n</template>\n<script>\nimport InputComponentMixin from '../../../mixins/input-component-mixin.js';\nimport BasicComponentMixin from '../../../mixins/basic-component-mixin.js';\n\nexport default {\n  name: \"DapUiOrgSelect\",\n  type: 'FORM_INPUT',\n  mixins: [InputComponentMixin, BasicComponentMixin],\n  components: {},\n  props: {\n  },\n  computed: {\n    calcSelectedArray: function() {\n      return this.extraProp.selectedArray.slice(0, this.multCount);\n    }\n  },\n  data() {\n    return {\n      multCount: 3\n    }\n  },\n  mounted() {\n    //TODO: 不合适的方案\n    setTimeout(() => {\n      if (this.extraProp.mode === 'cascade') {\n        this.$formEventEmit(\"query-options\")\n      }\n    }, 300)\n  },\n  watch: {\n    \"value\": {\n      handler(newVal, oldVal) {\n        if (newVal && newVal.length !== 0) {\n          if (this.extraProp.mode === 'cascade') {\n            this.$formEventEmit(\"query-options\")\n          } else if (this.extraProp.mode === \"modal\" && this.extraProp.selectedArray.length === 0) {\n            this.$formEventEmit(\"query-org-info\", newVal)\n          }\n        }\n      },\n      immediate: true\n    },\n    \"extraProp.options\": {\n      handler(newVal, oldVal) {\n        if (newVal && newVal.length > 0) {\n          // if (this.extraProp.selectType === \"single\") {\n          //   this.selectedCodeArray = this.value\n          // } else if (this.extraProp.selectType === \"mult\") {\n          //   this.selectedCodeArray = this.value instanceof Array ? this.value : [this.value]\n          // }\n        }\n      }\n    },\n    \"extraProp.selectedArray\": {\n      handler(newVal, oldVal) {\n        if (newVal.length > 0 && this.extraProp.mode === \"modal\") {\n          console.log(newVal);\n          this.emitValueChange()\n        }\n      }\n    }\n  },\n  created() {},\n  methods: {\n    onDropdownVisibleChange(visible) {\n      if (visible) {\n        debugger\n        this.$formEventEmit(\"query-options\")\n      }\n    },\n    handleSelect(value) {\n      const item = this.extraProp.options.find(item => item.code === value)\n      if (value && item) {\n        if (this.extraProp.selectType === \"single\") {\n          this.extraProp.selectedArray.pop()\n        }\n        this.extraProp.selectedArray.push(item)\n      }\n      if (this.extraProp.selectedArray.length > this.multCount) {\n        this.$nextTick(() => {\n          let nodes = this.$refs.cascadeSelect.$el.querySelectorAll(\".ant-select-selection__choice\")\n          let lastNode = nodes[nodes.length - 1]\n          lastNode.style.backgroundColor = 'transparent'\n          lastNode.style.border = 0\n          lastNode.style.padding = 0\n        })\n      }\n    },\n    handleClick() {\n      if (this.extraProp.selectType === \"single\" && this.extraProp.mode === \"modal\") {\n        this.$emit(\"open-modal\")\n      }\n    },\n    handleClose(org) {\n      const index = this.extraProp.selectedArray.findIndex(_org => _org.code === org.code)\n      if (index !== -1) {\n        this.extraProp.selectedArray.splice(index, 1)\n        this.emitValueChange()\n      }\n    },\n    handleOpenModal() {\n      this.$emit(\"open-modal\")\n    },\n    emitValueChange() {\n      if (this.extraProp.selectType === \"single\") {\n        this.$formEventEmit(\"change\", this.extraProp.selectedArray.map(org => org.code)[0])\n      } else if (this.extraProp.selectType === \"mult\") {\n        this.$formEventEmit(\"change\", this.extraProp.selectedArray.map(org => org.code))\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style src=\"./index.less\" lang=\"less\">\n</style>\n"],"sourceRoot":"packages/components/form/org-select"}]}