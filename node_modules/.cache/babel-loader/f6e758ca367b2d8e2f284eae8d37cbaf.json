{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/collapse-layout/dap-ui-collapse-layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/collapse-layout/dap-ui-collapse-layout.vue","mtime":1583257594000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IExheW91dENvbXBvbmVudE1peGluIGZyb20gJy4uLy4uLy4uL21peGlucy9sYXlvdXQtY29tcG9uZW50LW1peGluLmpzJzsKaW1wb3J0IEJhc2ljQ29tcG9uZW50TWl4aW4gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL2Jhc2ljLWNvbXBvbmVudC1taXhpbi5qcyc7CmltcG9ydCBWYWxpZGF0ZVV0aWwgZnJvbSAnLi4vLi4vLi4vdXRpbHMvdmFsaWRhdGUudXRpbC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGFwVWlDb2xsYXBzZUxheW91dCIsCiAgbW9kZWw6IHsKICAgIHByb3A6ICdmb3JtRGF0YScsCiAgICBldmVudDogJ2NoYW5nZScKICB9LAogIG1peGluczogW0Jhc2ljQ29tcG9uZW50TWl4aW4sIExheW91dENvbXBvbmVudE1peGluXSwKICB0eXBlOiAnRk9STV9MQVlPVVQnLAogIGNvbXB1dGVkOiB7CiAgICB2YWxpZGF0ZVZhbDogZnVuY3Rpb24gdmFsaWRhdGVWYWwoKSB7CiAgICAgIHZhciB2YWxpZGF0ZUFycmF5ID0gW107CiAgICAgIHRoaXMuJHJlZnMudmFsaWRhdGVGb3JtLmZvckVhY2goZnVuY3Rpb24gKGZvcm0pIHsKICAgICAgICB2YWxpZGF0ZUFycmF5LnB1c2goZm9ybS5nZXRWYWxpZGF0ZUVycm9yKCkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHZhbGlkYXRlQXJyYXk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlS2V5OiBbJzAnXQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBmb3JtRGF0YTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBsYXlvdXRDb25maWc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiB7fQogICAgfSwKICAgIHZhbGlkYXRlOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHdhdGNoKCd2YWxpZGF0ZVZhbCcsIGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkgewogICAgICAvLyDmt7vliqDpqozor4Hlmajov5Tlm57mlbDmja4KICAgICAgY29uc29sZS5sb2coVmFsaWRhdGVVdGlsLm1lcmdlVmFsaWRhdGUobmV3VmFsKSk7CiAgICAgIHRoaXMuJGVtaXQoJ3ZhbGlkYXRlJywgVmFsaWRhdGVVdGlsLm1lcmdlVmFsaWRhdGUobmV3VmFsKSk7CiAgICB9LCB7CiAgICAgIGRlZXA6IHRydWUKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVUb3VjaDogZnVuY3Rpb24gdmFsaWRhdGVUb3VjaCgpIHsKICAgICAgdGhpcy4kcmVmcy52YWxpZGF0ZUZvcm0uZm9yRWFjaChmdW5jdGlvbiAoZm9ybSkgewogICAgICAgIGZvcm0udmFsaWRhdGVUb3VjaCgpOwogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy4kcmVmcy52YWxpZGF0ZUZvcm0uZm9yRWFjaChmdW5jdGlvbiAoZm9ybSkgewogICAgICAgIGZvcm0ucmVzZXRGb3JtKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5JbmRleDogZnVuY3Rpb24gb3BlbkluZGV4KGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZUtleS5pbmRleE9mKGluZGV4ICsgJycpID09PSAtMSkgewogICAgICAgIHRoaXMuYWN0aXZlS2V5ID0gcHVzaChpbmRleCArICcnKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["dap-ui-collapse-layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,oBAAA,MAAA,2CAAA;AACA,OAAA,mBAAA,MAAA,0CAAA;AACA,OAAA,YAAA,MAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,UADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAFA;AAMA,EAAA,MAAA,EAAA,CAAA,mBAAA,EAAA,oBAAA,CANA;AAOA,EAAA,IAAA,EAAA,aAPA;AAQA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,aAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,aAAA,CAAA,IAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AACA,OAFA;AAGA,aAAA,aAAA;AACA;AAPA,GARA;AAiBA,EAAA,IAjBA,kBAiBA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,CAAA,GAAA;AADA,KAAA;AAGA,GArBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,YAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAJA;AAQA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AARA,GAtBA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,SAAA,MAAA,CAAA,aAAA,EAAA,UAAA,MAAA,EAAA,MAAA,EAAA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA,CAAA,aAAA,CAAA,MAAA,CAAA;AACA,WAAA,KAAA,CAAA,UAAA,EAAA,YAAA,CAAA,aAAA,CAAA,MAAA,CAAA;AACA,KAJA,EAIA;AACA,MAAA,IAAA,EAAA;AADA,KAJA;AAOA,GA1CA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,aAAA;AACA,OAFA;AAGA,KALA;AAMA,IAAA,SANA,uBAMA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,SAAA;AACA,OAFA;AAGA,KAVA;AAWA,IAAA,SAXA,qBAWA,KAXA,EAWA;AACA,UAAA,KAAA,SAAA,CAAA,OAAA,CAAA,KAAA,GAAA,EAAA,MAAA,CAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA;AACA;AACA;AAfA;AA3CA,CAAA","sourcesContent":["<!--\n * @Author: DevinShi\n * @Date: 2020-02-06 10:37:47\n * @LastEditors: DevinShi\n * @LastEditTime: 2020-02-17 08:47:32\n * @Description: file content description\n -->\n<template>\n  <div class=\"dap-ui-collapse-layout dap-ui-form-item\">\n    <a-collapse v-model=\"activeKey\">\n      <a-collapse-panel v-for=\"(childLayout, index) in layoutConfig.children\" :key=\"index\">\n        <template v-slot:header>\n          <span :style=\"{color: childLayout.labelColor}\">{{childLayout.label}}</span>\n        </template>\n        <dap-ui-basic-form :ref=\"'validateForm'\" v-model=\"formData\" :formConfig=\"childLayout.children\"></dap-ui-basic-form>\n        <!-- {{$refs}} -->\n      </a-collapse-panel>\n    </a-collapse>\n  </div>\n</template>\n<script>\nimport LayoutComponentMixin from '../../../mixins/layout-component-mixin.js';\nimport BasicComponentMixin from '../../../mixins/basic-component-mixin.js';\nimport ValidateUtil from '../../../utils/validate.util.js'\n\nexport default {\n    name: \"DapUiCollapseLayout\",\n    model: {\n      prop: 'formData',\n      event: 'change'\n    },\n    mixins: [ BasicComponentMixin, LayoutComponentMixin],\n    type: 'FORM_LAYOUT',\n    computed: {\n      validateVal() {\n        const validateArray = []\n        this.$refs.validateForm.forEach(form => {\n          validateArray.push(form.getValidateError());\n        })\n        return validateArray;\n      }\n    },\n    data() {\n      return {\n          activeKey: ['0'],\n      };\n    },\n    props: {\n      formData: {\n        type: Object,\n      },\n      layoutConfig: {\n        type: Object,\n        default: {}\n      },\n      validate: {\n        type: Object,\n      }\n    },\n    mounted() {\n      this.$watch('validateVal', function (newVal, oldVal) {\n        // 添加验证器返回数据\n        console.log(ValidateUtil.mergeValidate(newVal));\n        this.$emit('validate', ValidateUtil.mergeValidate(newVal));\n      }, {\n        deep: true\n      });\n    },\n    methods: {\n      validateTouch() {\n        this.$refs.validateForm.forEach(form => {\n          form.validateTouch();\n        });\n      },\n      resetForm() {\n        this.$refs.validateForm.forEach(form => {\n          form.resetForm();\n        });\n      },\n      openIndex(index) {\n        if (this.activeKey.indexOf(index + '') === -1) {\n          this.activeKey = push(index + '');\n        }\n      }\n    }\n}\n</script>\n\n<style src=\"./index.less\" lang=\"less\">\n</style>\n"],"sourceRoot":"packages/components/form/collapse-layout"}]}