{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/mixins/prop-sync-mixin.js","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/mixins/prop-sync-mixin.js","mtime":1581765842904},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSkgeyByZXR1cm47IH0gdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKLyoKICogQEF1dGhvcjogRGV2aW5TaGkKICogQERhdGU6IDIwMjAtMDItMTQgMTg6Mjk6MDAKICogQExhc3RFZGl0b3JzOiBEZXZpblNoaQogKiBATGFzdEVkaXRUaW1lOiAyMDIwLTAyLTE1IDExOjI0OjAyCiAqIEBEZXNjcmlwdGlvbjogZmlsZSBjb250ZW50IGRlc2NyaXB0aW9uCiAqLwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdmFyIHdhdGNoZXJzID0gW107CiAgICBPYmplY3QuZW50cmllcyh0aGlzLiRvcHRpb25zLnByb3BzIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgcHJvcCA9IF9yZWYyWzBdLAogICAgICAgICAgb3B0cyA9IF9yZWYyWzFdOwoKICAgICAgaWYgKG9wdHMuc3luYykgewogICAgICAgIHdhdGNoZXJzLnB1c2godGhhdC4kd2F0Y2gocHJvcCwgZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgdGhhdFtvcHRzLnN5bmNdID0gdmFsOwogICAgICAgIH0pLCB0aGF0LiR3YXRjaChvcHRzLnN5bmMsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgIGRlYnVnZ2VyOwoKICAgICAgICAgIGlmICh2YWwgIT09IHRoYXRbcHJvcF0pIHsKICAgICAgICAgICAgdGhhdC4kZW1pdCgidXBkYXRlOiIuY29uY2F0KHByb3ApLCB2YWwpOwogICAgICAgICAgfQogICAgICAgIH0pKTsKCiAgICAgICAgaWYgKHRoYXRbcHJvcF0gIT09IHVuZGVmaW5lZCB8fCAiZGVmYXVsdCIgaW4gX3RoaXMuJG9wdGlvbnMucHJvcHMpIHsKICAgICAgICAgIHRoYXRbb3B0cy5zeW5jXSA9IHRoYXRbcHJvcF07CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAob3B0cy53YXRjaCkgewogICAgICAgIHdhdGNoZXJzLnB1c2godGhhdC4kd2F0Y2gocHJvcCwgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgICBvcHRzLndhdGNoLmJpbmQodGhhdCkobmV3VmFsLCBvbGRWYWwpOwogICAgICAgIH0pKTsKICAgICAgICBvcHRzLndhdGNoLmJpbmQodGhhdCkobmV3VmFsLCBvbGRWYWwpOwogICAgICB9CiAgICB9KTsKICAgIHRoYXQuJG9uY2UoImJlZm9yZURlc3Ryb3kiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHdhdGNoZXJzLmZvckVlYWNoKGZ1bmN0aW9uICh1bndhdGNoKSB7CiAgICAgICAgcmV0dXJuIHVud2F0Y2goKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/mixins/prop-sync-mixin.js"],"names":["created","that","watchers","Object","entries","$options","props","forEach","prop","opts","sync","push","$watch","val","$emit","undefined","watch","newVal","oldVal","bind","$once","forEeach","unwatch"],"mappings":";;;;;;;;AAAA;;;;;;;AAOA,eAAe;AACXA,EAAAA,OADW,qBACD;AAAA;;AACN,QAAMC,IAAI,GAAG,IAAb;AACA,QAAMC,QAAQ,GAAG,EAAjB;AAEAC,IAAAA,MAAM,CAACC,OAAP,CAAe,KAAKC,QAAL,CAAcC,KAAd,IAAuB,EAAtC,EAA0CC,OAA1C,CAAkD,gBAAkB;AAAA;AAAA,UAAhBC,IAAgB;AAAA,UAAVC,IAAU;;AACpE,UAAIA,IAAI,CAACC,IAAT,EAAe;AACXR,QAAAA,QAAQ,CAACS,IAAT,CACIV,IAAI,CAACW,MAAL,CAAYJ,IAAZ,EAAkB,UAAAK,GAAG,EAAI;AACrBZ,UAAAA,IAAI,CAACQ,IAAI,CAACC,IAAN,CAAJ,GAAkBG,GAAlB;AACH,SAFD,CADJ,EAIIZ,IAAI,CAACW,MAAL,CAAYH,IAAI,CAACC,IAAjB,EAAuB,UAAAG,GAAG,EAAI;AAC1B;;AACA,cAAIA,GAAG,KAAKZ,IAAI,CAACO,IAAD,CAAhB,EAAwB;AACpBP,YAAAA,IAAI,CAACa,KAAL,kBAAqBN,IAArB,GAA6BK,GAA7B;AACH;AACJ,SALD,CAJJ;;AAWA,YAAIZ,IAAI,CAACO,IAAD,CAAJ,KAAeO,SAAf,IAA4B,aAAa,KAAI,CAACV,QAAL,CAAcC,KAA3D,EAAkE;AAC9DL,UAAAA,IAAI,CAACQ,IAAI,CAACC,IAAN,CAAJ,GAAkBT,IAAI,CAACO,IAAD,CAAtB;AACH;AACJ;;AACD,UAAIC,IAAI,CAACO,KAAT,EAAgB;AACZd,QAAAA,QAAQ,CAACS,IAAT,CACIV,IAAI,CAACW,MAAL,CAAYJ,IAAZ,EAAkB,UAACS,MAAD,EAASC,MAAT,EAAoB;AACtCT,UAAAA,IAAI,CAACO,KAAL,CAAWG,IAAX,CAAgBlB,IAAhB,EAAsBgB,MAAtB,EAA8BC,MAA9B;AACC,SAFD,CADJ;AAKAT,QAAAA,IAAI,CAACO,KAAL,CAAWG,IAAX,CAAgBlB,IAAhB,EAAsBgB,MAAtB,EAA8BC,MAA9B;AACH;AACA,KAzBD;AA2BAjB,IAAAA,IAAI,CAACmB,KAAL,CAAW,eAAX,EAA4B,YAAM;AAClClB,MAAAA,QAAQ,CAACmB,QAAT,CAAkB,UAAAC,OAAO;AAAA,eAAIA,OAAO,EAAX;AAAA,OAAzB;AACC,KAFD;AAGH;AAnCU,CAAf","sourcesContent":["/*\n * @Author: DevinShi\n * @Date: 2020-02-14 18:29:00\n * @LastEditors: DevinShi\n * @LastEditTime: 2020-02-15 11:24:02\n * @Description: file content description\n */\nexport default {\n    created() {\n        const that = this ;\n        const watchers = [];\n\n        Object.entries(this.$options.props || {}).forEach(([prop, opts]) => {\n        if (opts.sync) {\n            watchers.push(\n                that.$watch(prop, val => {\n                    that[opts.sync] = val;\n                }),\n                that.$watch(opts.sync, val => {\n                    debugger\n                    if (val !== that[prop]) {\n                        that.$emit(`update:${prop}`, val);\n                    }\n                })\n            );\n            if (that[prop] !== undefined || \"default\" in this.$options.props) {\n                that[opts.sync] = that[prop];\n            }\n        }\n        if (opts.watch) {\n            watchers.push(\n                that.$watch(prop, (newVal, oldVal) => {\n                opts.watch.bind(that)(newVal, oldVal);\n                })\n            );\n            opts.watch.bind(that)(newVal, oldVal);\n        }\n        });\n\n        that.$once(\"beforeDestroy\", () => {\n        watchers.forEeach(unwatch => unwatch());\n        });\n    }\n};"]}]}