{"remainingRequest":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/editor/dap-ui-editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/packages/components/form/editor/dap-ui-editor.vue","mtime":1583478997545},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/coder/project/04_dap/lerna-dap/packages/dap-vue-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IElucHV0Q29tcG9uZW50TWl4aW4gZnJvbSAnLi4vLi4vLi4vbWl4aW5zL2lucHV0LWNvbXBvbmVudC1taXhpbi5qcyc7CmltcG9ydCBCYXNpY0NvbXBvbmVudE1peGluIGZyb20gJy4uLy4uLy4uL21peGlucy9iYXNpYy1jb21wb25lbnQtbWl4aW4uanMnOwppbXBvcnQgV2FuZ0VkaXRvciBmcm9tICd3YW5nZWRpdG9yJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEYXBVaUVkaXRvciIsCiAgdHlwZTogJ0ZPUk1fSU5QVVQnLAogIG1peGluczogW0lucHV0Q29tcG9uZW50TWl4aW4sIEJhc2ljQ29tcG9uZW50TWl4aW5dLAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdm1EYXRhOiB7CiAgICAgICAgZWRpdG9ySWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIGVkaXRvckluc3RhbmNlOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgZmlyc3RHZXRWYWx1ZTogdHJ1ZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIGlmICh0aGlzLmRvY3VtZW50SWQgJiYgdGhpcy5maXJzdEdldFZhbHVlKSB7CiAgICAgICAgICB0aGlzLmZpcnN0R2V0VmFsdWUgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudm1EYXRhLmVkaXRvckluc3RhbmNlLnR4dC5odG1sKG5ld1ZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMudm1EYXRhLmVkaXRvckluc3RhbmNlID0gbmV3IFdhbmdFZGl0b3IodGhpcy4kcmVmc1t0aGlzLnZtRGF0YS5lZGl0b3JJZF0pOwogICAgdGhpcy52bURhdGEuZWRpdG9ySW5zdGFuY2UuY3VzdG9tQ29uZmlnLm1lbnVzID0gWydoZWFkJywgLy8g5qCH6aKYCiAgICAnYm9sZCcsIC8vIOeyl+S9kwogICAgJ2ZvbnRTaXplJywgLy8g5a2X5Y+3CiAgICAnZm9udE5hbWUnLCAvLyDlrZfkvZMKICAgICdpdGFsaWMnLCAvLyDmlpzkvZMKICAgICd1bmRlcmxpbmUnLCAvLyDkuIvliJLnur8KICAgICdzdHJpa2VUaHJvdWdoJywgLy8g5Yig6Zmk57q/CiAgICAnZm9yZUNvbG9yJywgLy8g5paH5a2X6aKc6ImyCiAgICAnYmFja0NvbG9yJywgLy8g6IOM5pmv6aKc6ImyCiAgICAnbGluaycsIC8vIOaPkuWFpemTvuaOpQogICAgJ2xpc3QnLCAvLyDliJfooagKICAgICdqdXN0aWZ5JywgLy8g5a+56b2Q5pa55byPCiAgICAncXVvdGUnLCAvLyDlvJXnlKgKICAgICdpbWFnZScsIC8vIOaPkuWFpeWbvueJhwogICAgJ3RhYmxlJywgLy8g6KGo5qC8CiAgICAndmlkZW8nLCAvLyDmj5LlhaXop4bpopEKICAgICdjb2RlJywgLy8g5o+S5YWl5Luj56CBCiAgICAndW5kbycsIC8vIOaSpOmUgAogICAgJ3JlZG8nIC8vIOmHjeWkjQogICAgXTsKICAgIHRoaXMudm1EYXRhLmVkaXRvckluc3RhbmNlLmN1c3RvbUNvbmZpZy51cGxvYWRJbWdTaG93QmFzZTY0ID0gdHJ1ZTsKCiAgICB0aGlzLnZtRGF0YS5lZGl0b3JJbnN0YW5jZS5jdXN0b21Db25maWcub25jaGFuZ2UgPSBmdW5jdGlvbiAoaHRtbCkgewogICAgICBfdGhpcy5maXJzdEdldFZhbHVlID0gZmFsc2U7CgogICAgICBpZiAoaHRtbCA9PT0gIjxwPjxicj48L3A+IikgewogICAgICAgIF90aGlzLiRmb3JtRXZlbnRFbWl0KCdjaGFuZ2UnLCAiIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuJGZvcm1FdmVudEVtaXQoJ2NoYW5nZScsIGh0bWwpOwogICAgICB9CiAgICB9OwoKICAgIHRoaXMudm1EYXRhLmVkaXRvckluc3RhbmNlLmN1c3RvbUNvbmZpZy5vbmJsdXIgPSBmdW5jdGlvbiAoaHRtbCkgewogICAgICBjb25zb2xlLmxvZygiYmx1ciIsIGh0bWwpOwogICAgfTsKCiAgICB0aGlzLnZtRGF0YS5lZGl0b3JJbnN0YW5jZS5jdXN0b21Db25maWcuY3VzdG9tVXBsb2FkSW1nID0gdGhpcy5leHRyYVByb3AuY3VzdG9tVXBsb2FkSW1nOwogICAgdGhpcy52bURhdGEuZWRpdG9ySW5zdGFuY2UuY3JlYXRlKCk7CgogICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgdGhpcy52bURhdGEuZWRpdG9ySW5zdGFuY2UuJHRleHRFbGVtLmF0dHIoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudm1EYXRhLmVkaXRvckluc3RhbmNlLiR0ZXh0RWxlbS5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["dap-ui-editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAoBA,OAAA,mBAAA,MAAA,0CAAA;AACA,OAAA,mBAAA,MAAA,0CAAA;AACA,OAAA,UAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAAA,EAAA,YAFA;AAGA,EAAA,MAAA,EAAA,CAAA,mBAAA,EAAA,mBAAA,CAHA;AAIA,EAAA,KAAA,EAAA,EAJA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,QAAA,EAAA,IAAA,IAAA,GAAA,OAAA,EADA;AAEA,QAAA,cAAA,EAAA;AAFA,OADA;AAKA,MAAA,aAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,OADA,mBACA,QADA,EACA,QADA,EACA;AACA,YAAA,KAAA,UAAA,IAAA,KAAA,aAAA,EAAA;AACA,eAAA,aAAA,GAAA,KAAA;AACA,eAAA,MAAA,CAAA,cAAA,CAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA;AANA;AADA,GAfA;AAyBA,EAAA,OAzBA,qBAyBA;AAAA;;AACA,SAAA,MAAA,CAAA,cAAA,GAAA,IAAA,UAAA,CAAA,KAAA,KAAA,CAAA,KAAA,MAAA,CAAA,QAAA,CAAA,CAAA;AACA,SAAA,MAAA,CAAA,cAAA,CAAA,YAAA,CAAA,KAAA,GAAA,CACA,MADA,EACA;AACA,UAFA,EAEA;AACA,cAHA,EAGA;AACA,cAJA,EAIA;AACA,YALA,EAKA;AACA,eANA,EAMA;AACA,mBAPA,EAOA;AACA,eARA,EAQA;AACA,eATA,EASA;AACA,UAVA,EAUA;AACA,UAXA,EAWA;AACA,aAZA,EAYA;AACA,WAbA,EAaA;AACA,WAdA,EAcA;AACA,WAfA,EAeA;AACA,WAhBA,EAgBA;AACA,UAjBA,EAiBA;AACA,UAlBA,EAkBA;AACA,UAnBA,CAmBA;AAnBA,KAAA;AAqBA,SAAA,MAAA,CAAA,cAAA,CAAA,YAAA,CAAA,mBAAA,GAAA,IAAA;;AACA,SAAA,MAAA,CAAA,cAAA,CAAA,YAAA,CAAA,QAAA,GAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,aAAA,GAAA,KAAA;;AACA,UAAA,IAAA,KAAA,aAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA,CAAA,QAAA,EAAA,EAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,cAAA,CAAA,QAAA,EAAA,IAAA;AACA;AACA,KAPA;;AAQA,SAAA,MAAA,CAAA,cAAA,CAAA,YAAA,CAAA,MAAA,GAAA,UAAA,IAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,IAAA;AACA,KAFA;;AAGA,SAAA,MAAA,CAAA,cAAA,CAAA,YAAA,CAAA,eAAA,GAAA,KAAA,SAAA,CAAA,eAAA;AACA,SAAA,MAAA,CAAA,cAAA,CAAA,MAAA;;AACA,QAAA,KAAA,QAAA,EAAA;AACA,WAAA,MAAA,CAAA,cAAA,CAAA,SAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,KAAA;AACA,KAFA,MAEA;AACA,WAAA,MAAA,CAAA,cAAA,CAAA,SAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,IAAA;AACA;AACA;AAnEA,CAAA","sourcesContent":["<!--\n * @Author: DevinShi\n * @Date: 2020-02-06 10:37:47\n * @LastEditors: DevinShi\n * @LastEditTime: 2020-02-18 11:01:33\n * @Description: file content description\n -->\n<template>\n  <div class=\"dap-ui-editor dap-ui-form-item dap-ui-form-input\">\n    <div class=\"app-design-editor\" :style=\"{'border-color' : validateStatus === 'error' ? '#f5222d' : '#e8e8e8'}\">\n      <header class=\"app-design-editor-header\"><label v-if=\"required\" class=\"ant-form-item-required\"></label>{{ label }}</header>\n      <article class=\"app-design-editor-article\">\n          <div :class=\"{'editor': !disabled, 'editor-disabled': disabled}\" :ref=\"vmData.editorId\"></div>\n          \n      </article> \n    </div>\n    <div class=\"editor-error\" v-if=\"validateStatus === 'error'\">{{help}}</div>\n  </div>\n</template>\n<script>\nimport InputComponentMixin from '../../../mixins/input-component-mixin.js';\nimport BasicComponentMixin from '../../../mixins/basic-component-mixin.js';\nimport WangEditor from 'wangeditor';\n\nexport default {\n  name: \"DapUiEditor\",\n  type: 'FORM_INPUT',\n  mixins: [InputComponentMixin, BasicComponentMixin],\n  props: {\n  },\n  data() {\n    return {\n      vmData: {\n        editorId: new Date().getTime(),\n        editorInstance: undefined\n      },\n      firstGetValue: true\n    }\n  },\n  watch: {\n    value:{ \n      handler(newValue, oldValue) {\n        if (this.documentId && this.firstGetValue) {\n          this.firstGetValue = false;\n          this.vmData.editorInstance.txt.html(newValue);\n        }\n      },\n    }\n  },\n  mounted() {\n    this.vmData.editorInstance = new WangEditor(this.$refs[this.vmData.editorId]);\n    this.vmData.editorInstance.customConfig.menus = [\n        'head',  // 标题\n        'bold',  // 粗体\n        'fontSize',  // 字号\n        'fontName',  // 字体\n        'italic',  // 斜体\n        'underline',  // 下划线\n        'strikeThrough',  // 删除线\n        'foreColor',  // 文字颜色\n        'backColor',  // 背景颜色\n        'link',  // 插入链接\n        'list',  // 列表\n        'justify',  // 对齐方式\n        'quote',  // 引用\n        'image',  // 插入图片\n        'table',  // 表格\n        'video',  // 插入视频\n        'code',  // 插入代码\n        'undo',  // 撤销\n        'redo'  // 重复\n    ];\n    this.vmData.editorInstance.customConfig.uploadImgShowBase64 = true;\n    this.vmData.editorInstance.customConfig.onchange = (html => {\n        this.firstGetValue = false;\n        if (html === \"<p><br></p>\") {\n          this.$formEventEmit('change', \"\");\n        } else {\n          this.$formEventEmit('change', html);\n        }\n    });\n    this.vmData.editorInstance.customConfig.onblur = (html => {\n        console.log(\"blur\" ,html);\n    });\n    this.vmData.editorInstance.customConfig.customUploadImg = this.extraProp.customUploadImg;\n    this.vmData.editorInstance.create();\n    if (this.disabled) {\n      this.vmData.editorInstance.$textElem.attr('contenteditable', false);\n    } else {\n      this.vmData.editorInstance.$textElem.attr('contenteditable', true);\n    }\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style src=\"./index.less\" lang=\"less\">\n</style>\n"],"sourceRoot":"packages/components/form/editor"}]}